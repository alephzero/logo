<script src="https://cdn.jsdelivr.net/npm/opentype.js@latest/dist/opentype.min.js"></script>

<script>
const url_params = new URLSearchParams(window.location.search);

opentype.load(
    'gveret-levin/font-files/web/GveretLevinAlefAlefAlef-Regular.woff',
    (err, font) => {
      if (err) {
        console.log('Font could not be loaded: ' + err);
        return;
      }

      // The following should work, but doesn't :(
      // const path = font.getPath('0◊ê', 0, 100, 72);
      //
      // Instead, we do:
      // ============================================
      const aleph = font.glyphs.glyphs[7];
      const zero = font.glyphs.glyphs[67];

      const path = new opentype.Path();
      const scale = 1 / font.unitsPerEm * 1000;

      let x = 0;
      const y = 0;
      path.extend(zero.getPath(x, y, 1000))
      x += zero.advanceWidth * scale
      path.extend(aleph.getPath(x, y, 1000))
      // ============================================

      const bb = path.getBoundingBox();
      const width = bb.x2 - bb.x1;
      const height = bb.y2 - bb.y1;
      var svg_blob = new Blob([
        `<svg xmlns="http://www.w3.org/2000/svg" viewBox="${bb.x1} ${bb.y1} ${width} ${height}">`,
        path.toSVG(),
        "</svg>"],
      );
      var svg_dl = document.createElement("a");
      svg_dl.href = URL.createObjectURL(svg_blob);
      svg_dl.download = "alephzero.svg";
      svg_dl.click();
    }
);
</script>